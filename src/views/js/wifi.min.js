const wifi = document.querySelector('.content.p-4');
ipcRenderer.send('wifi:scan', { method: 'get' });

document.querySelectorAll('.alert.alert-info').forEach(w => {
    w.addEventListener('click', e => {
    document.querySelector('#name').value(e.target.children.children.children.value);
    })
});

ipcRenderer.on('wifi:list', (e, obj) => {
    console.log(obj);
    wifi.innerHTML = '';
    for (let i = 0; i < obj.length; i++) {
    wifi.innerHTML += `<button type="button" class="w-100 btn btn-lg btn-outline-primary wifi" onclick="select('${obj[i].ssid}')">
                <span class="fa fa-wifi"></span>&nbsp;${obj[i].ssid}&nbsp;<span class="fa fa-${obj[i].security != '' ? 'lock' : 'unlock'}"></span>
                </button>`;
    }
});

const form = document.querySelector('form');
form.addEventListener('submit', e => {
    const name = document.querySelector('#name').value;
    const pass = document.querySelector('#pass').value;
    const newWifi = { name: name, pass: pass };
    ipcRenderer.send('wifi:new', newWifi)
    e.preventDefault();
});

function select(params) {
    document.querySelector('#name').value = params;
};